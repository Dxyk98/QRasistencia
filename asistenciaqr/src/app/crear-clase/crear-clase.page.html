<ion-header>
  <ion-toolbar>
    <ion-title>
      <img
        src="../../assets/icon/LogoDuoc.webp"
        alt="Duocuc Logo"
        class="logo"
      />
    </ion-title>
    <ion-button slot="start" routerLink="/profesor-home" class="mr-1">
      <ion-icon name="chevron-back-outline" slot="start"></ion-icon>
      Volver
    </ion-button>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <div class="row mt-2">
    <div class="col-sm-4">
      <h2>Formulario de clases</h2>
      <form [formGroup]="claseForm" (ngSubmit)="guardarClase()">
        <ion-item class="pt-2">
          <ion-input
            label="Nombre de la clase"
            label-placement="floating"
            fill="outline"
            formControlName="nombre"
            type="text"
          ></ion-input>
        </ion-item>
        <ion-item class="pt-2">
          <ion-select
            label="Carrera"
            placeholder="Elija carrera"
            fill="outline"
            formControlName="carreraClase"
            required
          >
            <ion-select-option
              *ngFor="let carrera of carreras"
              [value]="carrera"
            >
              {{ carrera }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="pt-2">
          <ion-input
            label="Hora Inicio"
            label-placement="floating"
            fill="outline"
            formControlName="horaInicio"
            type="time"
          ></ion-input>
        </ion-item>
        <ion-item class="pt-2">
          <ion-input
            label="Hora Termino"
            label-placement="floating"
            fill="outline"
            formControlName="horaTermino"
            type="time"
          ></ion-input>
        </ion-item>
        <ion-item class="pt-2">
          <ion-select
            label="Diurno o Vespertino"
            placeholder="Seleccione horario"
            fill="outline"
            formControlName="diurnoVespertino"
          >
            <ion-select-option *ngFor="let hora of horario" [value]="hora">
              {{ hora }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="pt-2">
          <ion-select
            label="Dia(s) Clase"
            placeholder="Seleccione Día(s)"
            fill="outline"
            formControlName="dias"
            [multiple]="true"
          >
            <ion-select-option *ngFor="let dia of diaSemana" [value]="dia">
              {{ dia }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item class="pt-2">
          <ion-select
            label="Profesor"
            placeholder="Seleccione un Profesor"
            fill="outline"
            formControlName="profesor"
          >
            <ion-select-option
              *ngFor="let persona of personas"
              [value]="{ id: persona.identificador, nombre: persona.nombre }"
            >
              {{ persona.nombre }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-button type="submit" [disabled]="!claseForm.valid" class="pt-2"
          >Guardar Clase</ion-button
        >
      </form>
    </div>
    <div class="col-sm-4">
      <h2>Clases Registradas</h2>
      <ion-list>
        <ion-list-header>
          <ion-label>Lista de Clases</ion-label>
        </ion-list-header>
        <ion-item *ngFor="let clase of clases">
          <ion-label>
            <h1>{{ clase.nombre }}</h1>
            <h2></h2>
            <h3>{{ clase.profesor.nombre }}, {{ clase.profesor.id }}</h3>
            <p>ID: {{ clase.id }}</p>
            <p>Hora de inicio: {{ clase.horaInicio }}</p>
            <p>Hora de término: {{ clase.horaTermino }}</p>
            <p>Diurno / Vespertino: {{ clase.diurnoVespertino }}</p>
            <p>Dia(s): {{ clase.dias }}</p>
            <p>Carrera: {{ clase.carreraClase }}</p>
          </ion-label>
          <ion-button
            color="danger"
            slot="end"
            (click)="eliminarClase(clase.id)"
            >Eliminar</ion-button
          >
        </ion-item>
      </ion-list>
    </div>
  </div>
</ion-content>
